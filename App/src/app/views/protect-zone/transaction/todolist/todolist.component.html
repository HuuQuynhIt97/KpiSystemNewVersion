<div class="card">
  <div class="card-body">
    <ejs-tab id="element" (selected)='selected($event)' >
      <e-tabitems>
        <ng-container *ngFor="let item of accountGroupData">
        <e-tabitem  [content]='getGridTemplate(item.position)'>
          <ng-template #headerText>
            <div> {{item.name}} </div>
          </ng-template>
        </e-tabitem>
      </ng-container>
      </e-tabitems>
    </ejs-tab>
  </div>
</div>

<!-- L0 -->
<ng-template #GridtemplateRef>
  <ejs-grid #grid [dataSource]='gridData' [allowPaging]='true' [allowResizing]='true' [showColumnMenu]='true' gridLines='Both'
    [toolbar]='toolbarOptions' [pageSettings]='pageSettings' [allowExcelExport]='true'>
    <e-columns>
      <e-column field='#' headerText='#' textAlign='Center' width=80 type='number'>
        <ng-template #template let-data>
          {{NO(data.index)}}
        </ng-template>
      </e-column>
      <e-column field='topic' headerText='KPI Objective' type='string'>
      </e-column>
      <e-column field='option' headerText='Option'>
        <ng-template #template let-data>
          <div class="btn-group">
            <button type="button" class="btn btn-sm btn-success mr-2" (click)='openActionModalComponent(data)'>Action</button>
            <button type="button" class="btn btn-sm btn-success mr-2" (click)='openUpdateResultModalComponent(data)'>Update Result</button>
            <button type="button" class="btn btn-sm btn-success mr-2" (click)='openSelfScoreModalComponent(data)'>Self-score</button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</ng-template>
<!-- L1 -->
<ng-template #GridtemplateRef>
  <ejs-grid #grid [dataSource]='gridData' [allowPaging]='true' [allowResizing]='true' [showColumnMenu]='true' gridLines='Both'
    [toolbar]='toolbarOptions' [pageSettings]='pageSettings' [allowExcelExport]='true'>
    <e-columns>
      <e-column field='#' headerText='#' textAlign='Center' width=80 type='number'>
        <ng-template #template let-data>
          {{NO(data.index)}}
        </ng-template>
      </e-column>
      <e-column field='objective' headerText='KPI Objective' type='string'>
      </e-column>
      <e-column field='option' headerText='Option'>
        <ng-template #template let-data>
          <div class="btn-group">
            <button type="button" *ngIf="data.type == KPI" class="btn btn-sm btn-success mr-2" (click)='openKPIScoreModalComponent(data)'>KPI Score</button>
            <button type="button" *ngIf="data.type == Attitude" class="btn btn-sm btn-success mr-2" (click)='openAttitudeScoreModalComponent(data)'>Attitude Score</button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</ng-template>

<!-- L2 -->
<ng-template #GridtemplateRef>
  <ejs-grid #grid [dataSource]='gridData' [allowPaging]='true' [allowResizing]='true' [showColumnMenu]='true' gridLines='Both'
    [toolbar]='toolbarOptions' [pageSettings]='pageSettings' [allowExcelExport]='true'>
    <e-columns>
      <e-column field='#' headerText='#' textAlign='Center' width=80 type='number'>
        <ng-template #template let-data>
          {{NO(data.index)}}
        </ng-template>
      </e-column>
      <e-column field='objective' headerText='KPI Objective' type='string'>
      </e-column>
      <e-column field='option' headerText='Option'>
        <ng-template #template let-data>
          <div class="btn-group">
            <button type="button" *ngIf="data.type == KPI" class="btn btn-sm btn-success mr-2" (click)='openKPIScoreModalComponent(data)'>KPI Score</button>
            <button type="button" *ngIf="data.type == Attitude" class="btn btn-sm btn-success mr-2" (click)='openAttitudeScoreL2ModalComponent(data)'>Attitude Score</button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</ng-template>

<!-- FHO -->
<ng-template #GridtemplateRef>
  <ejs-grid #grid [dataSource]='gridData' [allowPaging]='true' [allowResizing]='true' [showColumnMenu]='true' gridLines='Both'
    [toolbar]='toolbarOptions' [pageSettings]='pageSettings' [allowExcelExport]='true'>
    <e-columns>
      <e-column field='#' headerText='#' textAlign='Center' width=80 type='number'>
        <ng-template #template let-data>
          {{NO(data.index)}}
        </ng-template>
      </e-column>
      <e-column field='objective' headerText='KPI Objective' type='string'>
      </e-column>
      <e-column field='option' headerText='Option'>
        <ng-template #template let-data>
          <div class="btn-group">
            <button type="button" *ngIf="data.type == KPI" class="btn btn-sm btn-success mr-2" (click)='openKPIScoreModalComponent(data)'>KPI Score</button>
            <button type="button" *ngIf="data.type == Attitude" class="btn btn-sm btn-success mr-2" (click)='openAttitudeScoreL2ModalComponent(data)'>Attitude Score</button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</ng-template>

<!-- GHR -->
<ng-template #GridtemplateRef>
  <ejs-grid #grid [dataSource]='gridData' [allowPaging]='true' [allowResizing]='true' [showColumnMenu]='true' gridLines='Both'
    [toolbar]='toolbarOptions' [pageSettings]='pageSettings' [allowExcelExport]='true'>
    <e-columns>
      <e-column field='#' headerText='#' textAlign='Center' width=80 type='number'>
        <ng-template #template let-data>
          {{NO(data.index)}}
        </ng-template>
      </e-column>
      <e-column field='objective' headerText='KPI Objective' type='string'>
      </e-column>
      <e-column field='option' headerText='Option'>
        <ng-template #template let-data>
          <div class="btn-group">
            <button type="button" *ngIf="data.type == KPI" class="btn btn-sm btn-success mr-2" (click)='openKPIScoreModalComponent(data)'>KPI Score</button>
            <button type="button" *ngIf="data.type == Attitude" class="btn btn-sm btn-success mr-2" (click)='openAttitudeScoreL2ModalComponent(data)'>Attitude Score</button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</ng-template>

<!-- GM -->
<ng-template #GridtemplateRef>
  <ejs-grid #grid [dataSource]='gridData' [allowPaging]='true' [allowResizing]='true' [showColumnMenu]='true' gridLines='Both'
    [toolbar]='toolbarOptions' [pageSettings]='pageSettings' [allowExcelExport]='true'>
    <e-columns>
      <e-column field='#' headerText='#' textAlign='Center' width=80 type='number'>
        <ng-template #template let-data>
          {{NO(data.index)}}
        </ng-template>
      </e-column>
      <e-column field='objective' headerText='KPI Objective' type='string'>
      </e-column>
      <e-column field='option' headerText='Option'>
        <ng-template #template let-data>
          <div class="btn-group">
            <button type="button" class="btn btn-sm btn-success mr-2" (click)='openKPIScoreModalComponent(data)'>KPI Score</button>
            <button type="button" class="btn btn-sm btn-success mr-2" (click)='openAttitudeScoreModalComponent(data)'>KPI Score</button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</ng-template>
